webpackJsonp([28,46,47,67,112],{1174:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(542),n=e.n(i),s=e(545),r=e.n(s),o=e(544),c=e.n(o),d=e(543),l=e.n(d),u=e(719);a.default={components:{DateSwitch:n.a,AnalysisHeader:l.a,TrendChart:r.a,RankingChart:c.a},data:function(){return{weekxAxislabel:["周一","周二","周三","周四","周五","周六","周日"],passengerSumChart:null,passengerAddChart:null,trendDate:"周",isShow:!1,passengerWeekTrendChart:null,uid:JSON.parse(sessionStorage.getItem("userInfo")).uid-0}},mounted:function(){this.handleWeekTrendData()},methods:{handleWeekTrendDate:function(t,a,e){this.fetchPassengerWeekTrendData(t,a,e)},handleWeekTrendData:function(t){this.passengerWeekTrendChart=echarts.init(document.getElementById("passengerWeekTrendChart"));var a={color:["#2297E8","#48CE38","#F8D156","#FD9827","#9764DC","#339999","#50c2c2","#abd4dd","#7b98c1","#84b5ef","#ffc281","#ff8080"],tooltip:{trigger:"axis",axisPointer:{type:"shadow",crossStyle:{color:"#999"}}},calculable:!0,legend:{show:!0,top:5},toolbox:{right:40,feature:{magicType:{show:!0,type:["line","bar"]},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!0,data:this.weekxAxislabel}],yAxis:[{type:"value",name:"客流量 /人",axisLabel:{formatter:function(t){return t>=1e3?t/1e3+"k":t}}}],dataZoom:[{type:"inside",xAxisIndex:[0]},{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter"}],grid:{left:60,right:40,top:60,bottom:80},series:t};this.passengerWeekTrendChart.setOption(a),window.addEventListener("resize",this.passengerWeekTrendChart.resize)},fetchPassengerWeekTrendData:function(t,a,i){var n=this;e.i(u.a)(i,this.uid,t,a).then(function(t){n.handleWeekTrendData(t.data)})}}}},1228:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".serviceAnalysis .el-row{margin-bottom:20px}.serviceAnalysis .el-row:first-child,.serviceAnalysis .el-row:last-child{margin-bottom:0}",""])},1229:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".serviceAnalysis .title-wrap[data-v-317eb57d]{line-height:32px}.serviceAnalysis .marketingCount[data-v-317eb57d]{height:400px;background:#fff;text-align:center;padding-top:10px;box-sizing:border-box}.serviceAnalysis .marketingCount .marketing-title[data-v-317eb57d]{font-size:16px;margin-top:20px}.serviceAnalysis .marketingCount .marketing-time[data-v-317eb57d]{margin:20px 0}.serviceAnalysis .marketingCount .marketing-num[data-v-317eb57d]{font-size:24px;font-weight:600;margin:20px 0;display:block}@media (max-width:1200px){.serviceAnalysis .marketingCount[data-v-317eb57d]{height:330px}}",""])},1358:function(t,a,e){var i=e(1228);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("0e1cee82",i,!0)},1359:function(t,a,e){var i=e(1229);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("d83104d4",i,!0)},1518:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"serviceAnalysis chartCommonWrapper"},[e("analysis-header"),t._v(" "),e("Trend-chart"),t._v(" "),e("ranking-chart"),t._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{xs:24,sm:24,md:24,lg:20}},[e("div",{staticClass:"title-wrap"},[e("h3",[e("c-svg",{staticClass:"title-icon",attrs:{name:"bar_chart"}}),t._v(" "),e("span",{staticClass:"text"},[t._v("周客流趋势")])],1),t._v(" "),e("date-switch",{attrs:{"is-show":t.isShow,"fixed-date":t.trendDate},on:{handleChartData:t.handleWeekTrendDate}})],1),t._v(" "),e("div",{staticClass:"bg-fff",staticStyle:{height:"400px"},attrs:{id:"passengerWeekTrendChart"}})]),t._v(" "),e("el-col",{attrs:{xs:24,sm:24,md:24,lg:4}},[e("div",{staticClass:"title-wrap"},[e("h3",[e("c-svg",{staticClass:"title-icon",attrs:{name:"bar_chart"}}),t._v(" "),e("span",{staticClass:"text"},[t._v("促销统计")])],1)]),t._v(" "),e("div",{staticClass:"marketingCount"},[e("div",{staticClass:"marketing-title"},[t._v("\n          促销时间\n        ")]),t._v(" "),e("div",{staticClass:"marketing-time"},[t._v("\n          2019-01-07 - 2019-01-21\n        ")]),t._v(" "),e("div",{staticClass:"marketing-title",staticStyle:{"margin-top":"10px"}},[t._v("\n          总客流量\n        ")]),t._v(" "),e("count-to",{staticClass:"marketing-num",attrs:{"start-val":0,"end-val":288749,duration:3600}}),t._v(" "),e("el-progress",{attrs:{type:"circle",width:120,percentage:32.4,status:"text"}},[t._v("\n          环比增长"),e("br"),e("span",{staticStyle:{"margin-top":"5px",display:"inline-block"}},[t._v("32.5%")])])],1)])],1)],1)},staticRenderFns:[]}},542:function(t,a,e){e(756);var i=e(38)(e(741),e(759),"data-v-644a5a6f",null);t.exports=i.exports},543:function(t,a,e){e(780);var i=e(38)(e(772),e(800),"data-v-425ba076",null);t.exports=i.exports},544:function(t,a,e){e(824);var i=e(38)(e(805),e(830),"data-v-496c7af5",null);t.exports=i.exports},545:function(t,a,e){e(823);var i=e(38)(e(806),e(829),"data-v-01c02aae",null);t.exports=i.exports},679:function(t,a,e){e(1358),e(1359);var i=e(38)(e(1174),e(1518),"data-v-317eb57d",null);t.exports=i.exports},717:function(t,a,e){"use strict";e.d(a,"d",function(){return n}),e.d(a,"c",function(){return s}),e.d(a,"e",function(){return r}),e.d(a,"f",function(){return o}),e.d(a,"a",function(){return c}),e.d(a,"b",function(){return d});var i=e(32),n=function(t){return i.a.get("/api/StatisticalAnalysis/GetProjectAlarm",{params:{user:t}})},s=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectAlarmStatistics",{params:{type:t,user:a,startTime:e,endTime:n}})},r=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectSysAlarmNum",{params:{type:t,user:a,startTime:e,endTime:n}})},o=function(t,a,e){return i.a.get("/api/StatisticalAnalysis/GetProjectAlarmTime",{params:{user:t,startTime:a,endTime:e}})},c=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectAlarmRanking",{params:{type:t,user:a,startTime:e,endTime:n}})},d=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectAlarmSumRanking",{params:{type:t,user:a,startTime:e,endTime:n}})}},718:function(t,a,e){"use strict";e.d(a,"c",function(){return n}),e.d(a,"d",function(){return s}),e.d(a,"e",function(){return r}),e.d(a,"f",function(){return o}),e.d(a,"g",function(){return c}),e.d(a,"a",function(){return d}),e.d(a,"b",function(){return l});var i=e(32),n=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectTimeRepair",{params:{type:t,user:a,startTime:e,endTime:n}})},s=function(){return i.a.get("/api/StatisticalAnalysis/GetProjectRepair")},r=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectSysRepair",{params:{type:t,user:a,startTime:e,endTime:n}})},o=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectSysFaultReason",{params:{user:t,startTime:a,endTime:e,SysID:n}})},c=function(t,a,e,n,s){return i.a.get("/api/StatisticalAnalysis/GetProjectSysTable",{params:{type:t,user:a,startTime:e,endTime:n,SysID:s}})},d=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectRepairRanking",{params:{type:t,user:a,startTime:e,endTime:n}})},l=function(t,a,e,n){return i.a.get("/api/StatisticalAnalysis/GetProjectRepairSumRanking",{params:{type:t,user:a,startTime:e,endTime:n}})}},719:function(t,a,e){"use strict";e.d(a,"e",function(){return n}),e.d(a,"d",function(){return s}),e.d(a,"a",function(){return r}),e.d(a,"b",function(){return o}),e.d(a,"c",function(){return c});var i=e(32),n=function(){return i.a.get("api//StatisticalAnalysis/GetProjectPassenger")},s=function(t,a,e,n){return i.a.get("api//StatisticalAnalysis/GetProjectTimePassenger",{params:{type:t,user:a,startTime:e,endTime:n}})},r=function(t,a,e,n){return i.a.get("api//StatisticalAnalysis/GetProjectWeekPassenger",{params:{type:t,user:a,startTime:e,endTime:n}})},o=function(t,a,e,n){return i.a.get("api//StatisticalAnalysis/GetProjectPassengerRanking",{params:{type:t,user:a,startTime:e,endTime:n}})},c=function(t,a,e,n){return i.a.get("api//StatisticalAnalysis/GetProjectPassengerSumRanking",{params:{type:t,user:a,startTime:e,endTime:n}})}},741:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{isShow:{type:Boolean,default:!0},fixedDate:{type:String,default:"日"},isRanking:{type:Boolean,default:!1}},data:function(){return{startTime:null,endTime:null,date:"日",day:"",month:"",week:new Date,year:"",currentTime:"",currentYear:"",currentmonthDays:null,pickerOptions:{firstDayOfWeek:1,disabledDate:function(t){return t.getTime()>Date.now()-864e4}},pickerOptionsWeek:{firstDayOfWeek:1,disabledDate:function(t){return t.getTime()>Date.now()-6048e5}},pickerOptionsCommon:{disabledDate:function(t){return t.getTime()>Date.now()}},pickerOptionsDay:{disabledDate:function(t){return t.getTime()>Date.now()-864e5}},pickerOptionsMonth:{disabledDate:function(t){return t.getTime()>Date.now()-2592e6}},pickerOptionsYear:{disabledDate:function(t){return t.getTime()>Date.now()-31536e6}},dateType:1}},mounted:function(){this.startTime=(new Date).format("yyyy-MM-dd"),this.endTime=(new Date).format("yyyy-MM-dd"),this.day=new Date,this.date=this.fixedDate,this.handleTrendRange()},methods:{handleTrendRange:function(){if("日"===this.date){var t=(new Date).format("yyyy-MM-dd");this.isRanking?(this.startTime=new Date((new Date).getTime()-864e5).format("yyyy-MM-dd"),this.endTime=new Date((new Date).getTime()-864e5).format("yyyy-MM-dd"),this.day=new Date((new Date).getTime()-864e5)):(this.startTime=t,this.endTime=t,this.day=new Date),this.dateType=1}else if("周"===this.date){var a=0===(new Date).getDay()?7:(new Date).getDay(),e=(new Date).getTime();if(this.isRanking){var i=new Date(e-24*(a-1+7)*60*60*1e3).format("yyyy-MM-dd");this.startTime=i,this.endTime=new Date(new Date(i).getTime()+5184e5).format("yyyy-MM-dd"),this.week=new Date((new Date).getTime()-6048e5)}else{var n=new Date(e-24*(a-1)*60*60*1e3).format("yyyy-MM-dd");this.startTime=n,this.endTime=new Date(new Date(n).getTime()+5184e5).format("yyyy-MM-dd"),this.week=new Date}this.dateType=2}else if("月"===this.date){if(this.currentTime=(new Date).format("yyyy-M"),this.isRanking){var s=new Date(this.currentTime.split("-")[0],Number(this.currentTime.split("-")[1])-1,0).getDate(),r=new Date((new Date).getTime()-24*s*3600*1e3).format("yyyy-MM");this.startTime=r+"-01",this.endTime=r+"-"+s,this.month=new Date((new Date).getTime()-24*s*3600*1e3)}else{this.currentmonthDays=new Date(this.currentTime.split("-")[0],this.currentTime.split("-")[1],0).getDate();var o=(new Date).format("yyyy-MM");this.startTime=o+"-01",this.endTime=(new Date).format("yyyy-MM-dd"),this.month=new Date}this.dateType=3}else{if(this.isRanking){var c=(new Date).format("yyyy");this.currentYear=c,this.startTime=Number(c)-1+"-01-01",this.endTime=Number(c)-1+"-12-31",this.year=new Date((new Date).getTime()-31536e6)}else{var d=(new Date).format("yyyy");this.currentYear=d,this.startTime=d+"-01-01",this.endTime=(new Date).format("yyyy-MM-dd"),this.year=new Date}this.dateType=4}this.$emit("handleChartData",this.startTime,this.endTime,this.dateType)},handleformatTime:function(t){if("日"===this.date)this.startTime=new Date(t).format("yyyy-MM-dd"),this.endTime=new Date(t).format("yyyy-MM-dd");else if("周"===this.date)this.startTime=new Date(new Date(t).getTime()-864e5).format("yyyy-MM-dd"),this.endTime=new Date(new Date(t).getTime()+432e6).format("yyyy-MM-dd");else if("月"===this.date){this.currentTime=t;var a=t.split("-")[0],e=t.split("-")[1],i=new Date(a,e,0);this.currentmonthDays=i.getDate(),this.startTime=t+"-01",this.endTime=new Date(new Date(this.startTime).getTime()+86400*this.currentmonthDays*1e3).format("yyyy-MM-dd")}else{var n=(new Date).format("yyyy");n===t?(this.currentYear=t,this.startTime=t+"-01-01",this.endTime=(new Date).format("yyyy-MM-dd")):(this.currentYear=t,this.startTime=t+"-01-01",this.endTime=+t+"-12-31")}this.$emit("handleChartData",this.startTime,this.endTime,this.dateType)}}}},754:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".dateSwitch-wrap[data-v-644a5a6f]{float:right}",""])},756:function(t,a,e){var i=e(754);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("239baac4",i,!0)},759:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dateSwitch-wrap"},[e("div",{staticStyle:{float:"right"}},["日"===t.date?e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":t.isRanking?t.pickerOptionsDay:t.pickerOptionsCommon,size:"small"},on:{change:t.handleformatTime},model:{value:t.day,callback:function(a){t.day=a},expression:"day"}}):"周"===t.date?e("el-date-picker",{attrs:{"picker-options":t.isRanking?t.pickerOptionsWeek:t.pickerOptions,type:"week",size:"small",format:"yyyy 第 WW 周",placeholder:"选择周"},on:{change:t.handleformatTime},model:{value:t.week,callback:function(a){t.week=a},expression:"week"}}):"月"===t.date?e("el-date-picker",{attrs:{type:"month",size:"small","value-format":"yyyy-M","picker-options":t.isRanking?t.pickerOptionsMonth:t.pickerOptionsCommon,placeholder:"选择月"},on:{change:t.handleformatTime},model:{value:t.month,callback:function(a){t.month=a},expression:"month"}}):e("el-date-picker",{attrs:{type:"year",size:"small",placeholder:"选择年","picker-options":t.isRanking?t.pickerOptionsYear:t.pickerOptionsCommon,"value-format":"yyyy"},on:{change:t.handleformatTime},model:{value:t.year,callback:function(a){t.year=a},expression:"year"}})],1),t._v(" "),e("el-radio-group",{staticStyle:{float:"right",margin:"1px 20px 0 0"},attrs:{size:"small"},on:{change:t.handleTrendRange},model:{value:t.date,callback:function(a){t.date=a},expression:"date"}},[t.isShow?e("el-radio-button",{attrs:{label:"日"}}):t._e(),t._v(" "),e("el-radio-button",{attrs:{label:"周"}}),t._v(" "),e("el-radio-button",{attrs:{label:"月"}}),t._v(" "),e("el-radio-button",{attrs:{label:"年"}})],1)],1)},staticRenderFns:[]}},772:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(719),n=e(718),s=e(717);a.default={props:{isShow:{default:!1,type:Boolean}},data:function(){return{firstTitle:"",secondTitle:"",thirdTitle:"",firstNum:0,secondNum:0,thirdNum:0,yesterdaylinkRadio:0,yesterdayYearRadio:0,lastMonthlinkRadio:0,lastMonthYearRadio:0,lastYearlinkRadio:0,lastYearYearRadio:0,storeNum:0}},mounted:function(){"deviceDetails"===this.$route.name?(this.firstTitle="设备数量",this.secondTitle="今日故障",this.thirdTitle="今日维修"):"operationAnalysis"===this.$route.name?(this.firstTitle="设备数量",this.secondTitle="昨日故障",this.thirdTitle="昨日维修",this.fetchRepairNum()):"alarmAnalysis"===this.$route.name?(this.firstTitle="昨日报警",this.secondTitle="上月报警",this.thirdTitle="去年报警",this.fetchAlarmNum()):(this.firstTitle="今日客流",this.secondTitle="本月客流",this.thirdTitle="本年客流",this.fetchPassengerNum())},methods:{fetchPassengerNum:function(){var t=this;e.i(i.e)().then(function(a){var e=a.data;t.storeNum=e.ProCount,t.firstNum=e.DayData,t.secondNum=e.MonthData,t.thirdNum=e.YearData}).catch(function(t){})},fetchRepairNum:function(){var t=this;e.i(n.d)().then(function(a){var e=a.data;t.storeNum=e.ProCount,t.firstNum=e.DeviceCount,t.secondNum=e.YesterDay,t.thirdNum=e.Complete})},fetchAlarmNum:function(){var t=this;e.i(s.d)().then(function(a){var e=a.data;t.storeNum=e.ProjectNum,t.firstNum=e.AlarmYesterdayNum,t.secondNum=e.AlarmLastmonthNum,t.thirdNum=e.AlarmLastyearNum})}}}},775:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".panel-group .card-panel-col[data-v-425ba076]{margin-bottom:32px}.panel-group .card-panel[data-v-425ba076]{height:108px;cursor:pointer;font-size:12px;position:relative;overflow:hidden;color:#666;background:#fff;box-shadow:4px 4px 40px rgba(0,0,0,.05);border-color:rgba(0,0,0,.05)}.panel-group .card-panel:hover .card-panel-icon-wrapper[data-v-425ba076]{color:#fff}.panel-group .card-panel:hover .icon-people[data-v-425ba076]{background:#40c9c6}.panel-group .card-panel:hover .icon-message[data-v-425ba076]{background:#36a3f7}.panel-group .card-panel:hover .icon-money[data-v-425ba076]{background:#f4516c}.panel-group .card-panel:hover .icon-shoppingCard[data-v-425ba076]{background:#34bfa3}.panel-group .card-panel .icon-people[data-v-425ba076]{color:#40c9c6}.panel-group .card-panel .icon-message[data-v-425ba076]{color:#36a3f7}.panel-group .card-panel .icon-money[data-v-425ba076]{color:#f4516c}.panel-group .card-panel .icon-shoppingCard[data-v-425ba076]{color:#34bfa3}.panel-group .card-panel .card-panel-icon-wrapper[data-v-425ba076]{float:left;margin:14px 0 0 14px;padding:16px;transition:all .38s ease-out;border-radius:6px}.panel-group .card-panel .card-panel-icon[data-v-425ba076]{float:left;font-size:48px}.panel-group .card-panel .card-panel-description[data-v-425ba076]{float:right;font-weight:700;margin:26px;margin-left:0}.panel-group .card-panel .card-panel-description .yearBasicIcon[data-v-425ba076]{font-size:19px}.panel-group .card-panel .card-panel-description .card-panel-text[data-v-425ba076]{line-height:18px;color:rgba(0,0,0,.45);font-size:16px;margin-bottom:12px}.panel-group .card-panel .card-panel-description .card-panel-num[data-v-425ba076]{font-size:20px}",""])},780:function(t,a,e){var i=e(775);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("993ac462",i,!0)},800:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-people"},[e("c-svg",{attrs:{name:"ditu","class-name":"card-panel-icon"}})],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          门店数量\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.storeNum,duration:2600}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-message"},[e("c-svg",{attrs:{name:"ditu","icon-class":"message","class-name":"card-panel-icon"}})],1),t._v(" "),t.isShow?e("div",[e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            环比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.yesterdaylinkRadio,duration:2600}}),t._v("%\n        ")],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            同比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.yesterdayYearRadio,duration:2600}}),t._v("%\n        ")],1)]):t._e(),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.firstTitle)+"\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.firstNum,duration:3e3}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-money"},[e("c-svg",{attrs:{name:"ditu","class-name":"card-panel-icon"}})],1),t._v(" "),t.isShow?e("div",[e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            环比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.lastMonthlinkRadio,duration:2600}}),t._v("%\n        ")],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            同比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.lastMonthYearRadio,duration:2600}}),t._v("%\n        ")],1)]):t._e(),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.secondTitle)+"\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.secondNum,duration:3200}})],1)])]),t._v(" "),e("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[e("div",{staticClass:"card-panel"},[e("div",{staticClass:"card-panel-icon-wrapper icon-shoppingCard"},[e("c-svg",{attrs:{name:"ditu","class-name":"card-panel-icon"}})],1),t._v(" "),t.isShow?e("div",[e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            环比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.lastYearlinkRadio,duration:2600}}),t._v("%\n        ")],1),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n            同比\n          ")]),t._v(" "),e("c-svg",{staticClass:"yearBasicIcon",attrs:{name:"arrowsdownline"}}),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.lastYearYearRadio,duration:2600}}),t._v("%\n        ")],1)]):t._e(),t._v(" "),e("div",{staticClass:"card-panel-description"},[e("div",{staticClass:"card-panel-text"},[t._v("\n          "+t._s(t.thirdTitle)+"\n        ")]),t._v(" "),e("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.thirdNum,duration:3600}})],1)])])],1)},staticRenderFns:[]}},805:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(542),n=e.n(i),s=e(717),r=e(719),o=e(718);a.default={components:{DateSwitch:n.a},data:function(){return{chartName:"",rankingAddChart:null,rankingSumChart:null,isRanking:!0,trendDate:"周",addData:[],sumData:[],uid:JSON.parse(sessionStorage.getItem("userInfo")).uid-0}},methods:{fetchAlarmAddRanking:function(t,a,i){var n=this;this.addData=[],e.i(s.a)(i,this.uid,t,a).then(function(t){n.addData=t.data,n.handleChangeData(n.rankingAddChart,"报警增幅排名前五与后五",n.addData)}).catch(function(t){})},fetchAlarmSumRanking:function(t,a,i){var n=this;this.sumData=[],e.i(s.b)(i,this.uid,t,a).then(function(t){n.sumData=t.data,n.handleChangeData(n.rankingSumChart,"报警总数排名前五与后五",n.sumData)}).catch(function(t){})},fetchPassengerAddRanking:function(t,a,i){var n=this;this.addData=[],e.i(r.b)(i,this.uid,t,a).then(function(t){n.addData=t.data,n.handleChangeData(n.rankingAddChart,"客流增幅排名前五与后五",n.addData)}).catch(function(t){})},fetchPassengerSumRanking:function(t,a,i){var n=this;this.sumData=[],e.i(r.c)(i,this.uid,t,a).then(function(t){n.sumData=t.data,n.handleChangeData(n.rankingSumChart,"客流总数排名前五与后五",n.sumData)}).catch(function(t){})},fetchRepairAddRanking:function(t,a,i){var n=this;this.addData=[],e.i(o.a)(i,this.uid,t,a).then(function(t){n.addData=t.data,n.handleChangeData(n.rankingAddChart,"报修增幅排名前五与后五",n.addData)}).catch(function(t){})},fetchRepairSumRanking:function(t,a,i){var n=this;this.sumData=[],e.i(o.b)(i,this.uid,t,a).then(function(t){n.sumData=t.data,n.handleChangeData(n.rankingSumChart,"报修总数排名前五与后五",n.sumData)}).catch(function(t){})},handleSumAddDate:function(t,a,e){this.rankingAddChart=echarts.init(document.getElementById("rankingAddChart")),this.rankingSumChart=echarts.init(document.getElementById("rankingSumChart")),"operationAnalysis"===this.$route.name?(this.chartName="门店报修增幅与总数排名",this.fetchRepairAddRanking(t,a,e),this.fetchRepairSumRanking(t,a,e)):"alarmAnalysis"===this.$route.name?(this.chartName="报警增幅与总数排名",this.fetchAlarmAddRanking(t,a,e),this.fetchAlarmSumRanking(t,a,e)):(this.chartName="客流增幅与总数排名",this.fetchPassengerAddRanking(t,a,e),this.fetchPassengerSumRanking(t,a,e))},handleChangeData:function(t,a,e){var i={color:["#2297E8","#48CE38","#F8D156","#FD9827","#9764DC","#339999","#50c2c2","#abd4dd","#7b98c1","#84b5ef","#ffc281","#ff8080"],grid:{left:160,right:70,bottom:70},title:{text:a,top:10,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",crossStyle:{color:"#999"}}},legend:{show:!0,bottom:10},xAxis:[{type:"value",axisTick:{show:!1}}],yAxis:[{type:"category",data:e.Name,axisPointer:{type:"shadow"},splitLine:{show:!1},axisTick:{show:!1}}],series:e.Data};t.setOption(i),window.addEventListener("resize",t.resize)}}}},806:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(132),n=e.n(i),s=e(542),r=e.n(s),o=e(717),c=e(719),d=e(718);a.default={components:{DateSwitch:r.a},data:function(){return{dayxAxislabel:["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],weekxAxislabel:["周一","周二","周三","周四","周五","周六","周日"],monthxAxislabel:["1日","2日","3日","4日","5日","6日","7日","8日","9日","10日","11日","12日","13日","14日","15日","16日","17日","18日","19日","20日","21日","22日","23日","24日","25日","26日","27日","28日","29日","30日","31日"],yearxAxislabel:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],totalTrendAxislabel:[],uid:JSON.parse(sessionStorage.getItem("userInfo")).uid-0,trendDate:"周",totalTrendChart:null,trendSeriesName:"",chartName:""}},methods:{handleTrendChartDate:function(t,a,e){this.totalTrendAxislabel=[],this.totalTrendAxislabel=[].concat(1===e?n()(this.dayxAxislabel):2===e?n()(this.weekxAxislabel):3===e?n()(this.monthxAxislabel):n()(this.yearxAxislabel)),"operationAnalysis"===this.$route.name?(this.trendSeriesName="报修量",this.chartName="报修总趋势",this.fetchRepairNum(t,a,e)):"alarmAnalysis"===this.$route.name?(this.trendSeriesName="报警量",this.chartName="报警总趋势",this.fetchAlarmNum(t,a,e)):(this.trendSeriesName="客流量 /人",this.chartName="客流总趋势",this.fetchPassengerNum(t,a,e))},fetchPassengerNum:function(t,a,i){var n=this;e.i(c.d)(i,this.uid,t,a).then(function(t){n.TotalTrendChart(t.data)}).catch(function(t){})},fetchRepairNum:function(t,a,i){var n=this;e.i(d.c)(i,this.uid,t,a).then(function(t){n.TotalTrendChart(t.data)})},fetchAlarmNum:function(t,a,i){var n=this;e.i(o.c)(i,this.uid,t,a).then(function(t){n.TotalTrendChart(t.data)})},TotalTrendChart:function(t){this.totalTrendChart=echarts.init(document.getElementById("TotalTrend"));var a={color:["#2297E8","#48CE38","#F8D156","#FD9827","#9764DC","#339999","#50c2c2","#abd4dd","#7b98c1","#84b5ef","#ffc281","#ff8080"],tooltip:{trigger:"axis",axisPointer:{type:"shadow",crossStyle:{color:"#999"}}},calculable:!0,legend:{show:!0,top:5},toolbox:{right:40,feature:{magicType:{show:!0,type:["line","bar"]},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!1,data:this.totalTrendAxislabel}],yAxis:[{type:"value",name:this.trendSeriesName,axisLabel:{formatter:function(t){return t>=1e3?t/1e3+"k":t}}}],grid:{left:60,right:60,top:60,bottom:40},series:t};this.totalTrendChart.setOption(a),window.addEventListener("resize",this.totalTrendChart.resize)}}}},818:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".alarmAnalysis-section[data-v-01c02aae]{box-sizing:inherit}.alarmAnalysis-section .alarm-trend-chart[data-v-01c02aae]{background:#fff}.alarmAnalysis-section .title-wrap[data-v-01c02aae]{line-height:32px}",""])},819:function(t,a,e){a=t.exports=e(539)(),a.push([t.i,".rankingChart .title-wrap[data-v-496c7af5]{line-height:32px}",""])},823:function(t,a,e){var i=e(818);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("0c5ea87f",i,!0)},824:function(t,a,e){var i=e(819);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(540)("00b839e2",i,!0)},829:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"alarmAnalysis-section"},[e("el-col",{attrs:{lg:24}},[e("div",{staticClass:"alarm-trend-chart"},[e("div",{staticClass:"title-wrap"},[e("h3",[e("c-svg",{staticClass:"title-icon",attrs:{name:"bar_chart"}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.chartName))])],1),t._v(" "),e("date-switch",{attrs:{"fixed-date":t.trendDate},on:{handleChartData:t.handleTrendChartDate}})],1),t._v(" "),e("div",[e("div",{staticStyle:{height:"350px"},attrs:{id:"TotalTrend"}})])])])],1)},staticRenderFns:[]}},830:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticClass:"rankingChart bg-fff"},[e("div",{staticClass:"title-wrap"},[e("h3",[e("c-svg",{staticClass:"title-icon",attrs:{name:"bar_chart"}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.chartName))])],1),t._v(" "),e("date-switch",{attrs:{"fixed-date":t.trendDate,"is-ranking":t.isRanking},on:{handleChartData:t.handleSumAddDate}})],1),t._v(" "),e("div",[e("el-col",{attrs:{xs:24,sm:24,md:24,lg:12}},[e("div",{staticStyle:{height:"500px"},attrs:{id:"rankingAddChart"}})]),t._v(" "),e("el-col",{attrs:{xs:24,sm:24,md:24,lg:12}},[e("div",{staticStyle:{height:"500px"},attrs:{id:"rankingSumChart"}})])],1)])},staticRenderFns:[]}}});