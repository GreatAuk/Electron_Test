webpackJsonp([51],{1165:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(725),i=t.n(a),o=t(711),n=t(731),s=t(222);r.default={data:function(){return{projectList:[],deviceList:[],acceptList:[],manList:[],ways:[{id:1,name:"保内维修"},{id:2,name:"保外维修"}],data:[],input:"",Pagesize:1,show_number:10,total:null,startTime:"",endTime:"",projectid:"",dialogDivisionVisible:!1,dialogRepairVisible:!1,dialogRefuseVisible:!1,dialogPassVisible:!1,dialogRevokeVisible:!1,order:"",pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},form:{repair_type:"",repair_man:"",repair_date:"",repair_content:""},rules:{repair_type:[{required:!0,message:"请选择服务类型",trigger:"change"}],repair_man:[{required:!0,message:"请选择维修工",trigger:"change"}]},formrefuse:{repair_result:"",repairResult:""},ruleRefuse:{repair_result:[{required:!0,message:"请选择拒绝类型",trigger:"change"}],repairResult:[{required:!0,message:"请填写拒绝原因",trigger:"blur"}]},forms:{pay_type:"",pay_money:"",pay_content:""},formrevoke:{repair_result:"",repairResult:""},should:[],need:[],repairWay:"",repair_Result:"",repairResult:"",show:!0,NICKNAME:"",nopass:5,disabled:!1,loading:!1,title:"主管验收",userInfo:{},disable:!1,temp:"",searchForm:i()({repairStatus:"-2",repairTime:"",projectName:"",repairType:"",equipment:"",receiver:"",receiveTime:"0",repairMan:"",bigClass:"",smallClass:""},"repairType",""),formVisible:!1,pickerOptions2:{shortcuts:[{text:"全部",onClick:function(e){e.$emit("pick",["",""])}},{text:"今天",onClick:function(e){var r=new Date,t=new Date;e.$emit("pick",[t,r])}},{text:"昨天",onClick:function(e){var r=new Date,t=void 0,a=void 0;t=r.setTime(r.getTime()-864e5),a=t,e.$emit("pick",[new Date(t),new Date(a)])}},{text:"本周",onClick:function(e){var r=new Date,t=new Date(r-864e5*(r.getDay()-1)),a=new Date(1e3*(t/1e3+518400));e.$emit("pick",[t,a])}},{text:"本月",onClick:function(e){var r=new Date,t=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,1),i=new Date(a-864e5);e.$emit("pick",[t,i])}},{text:"本年",onClick:function(e){var r=(new Date,new Date((new Date).getFullYear()+"/1/1")),t=new Date((new Date).getFullYear()+"/12/31");e.$emit("pick",[r,t])}}]},typeTreeProps:{children:"subset",label:"TypeName"},typeTreeData:[]}},mounted:function(){var e=this;this.userInfo=JSON.parse(sessionStorage.getItem("userInfo")),this.QueryRepair_order(),this.fetchclassList(),t.i(o.a)(1,2400).then(function(r){var t=JSON.parse(r.data);t.success&&(e.projectList=t.list)}).catch(function(e){}),t.i(n.e)().then(function(r){e.acceptList=JSON.parse(r.data)}).catch(function(e){})},methods:{formatTime:function(e){this.startTime=e[0],this.endTime=e[1],this.QueryRepair_order()},ChargeMode:function(){1==this.forms.pay_type?this.disable=!0:this.disable=!1},addRow:function(e){1===e&&this.should.push({ID:null,Repair_Orderno:"",Sparepart_name:"",Sparepart_size:"",Number:null,Remarks:""}),2===e&&this.need.push({ID:null,Repair_Orderno:"",Tool_name:"",Number:null,Remarks:""})},handleAdd:function(e,r){var a=this;1===r&&t.i(n.A)({Repair_Orderno:this.order,Sparepart_name:e.Sparepart_name,arepart_size:e.Sparepart_size,Number:e.Number,Remarks:e.Remarks}).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_sparepartList()):a.$message.error("操作失败")}).catch(function(e){}),2===r&&t.i(n.B)({Repair_Orderno:this.order,Tool_name:e.Tool_name,Number:e.Number,Remarks:e.Remarks}).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_toolList()):a.$message.error("操作失败")}).catch(function(e){})},handleUpdate:function(e,r){var a=this;1===r&&t.i(n.C)({ID:e.ID,Sparepart_name:e.Sparepart_name,Sparepart_size:e.Sparepart_size,Number:e.Number,Remarks:e.Remarks}).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_sparepartList()):a.$message.error("操作失败")}).catch(function(e){}),2===r&&t.i(n.D)({ID:e.ID,Tool_name:e.Tool_name,Number:e.Number,Remarks:e.Remarks}).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_toolList()):a.$message.error("操作失败")}).catch(function(e){})},handleDeleteRow:function(e,r){var a=this;this.$confirm("此操作将永远删除该条数据，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){1===r&&t.i(n.E)(e.ID).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_sparepartList()):a.$message.error("操作失败")}).catch(function(e){}),2===r&&t.i(n.F)(e.ID).then(function(e){JSON.parse(e.data)?(a.$message({message:"操作成功",type:"success"}),a.QueryRepair_order(),a.Repair_toolList()):a.$message.error("操作失败")}).catch(function(e){})})},clearBtn:function(){this.$refs.searchForm.resetFields(),this.searchForm.bigClass="",this.searchForm.smallClass="",this.startTime="",this.endTime="",this.QueryRepair_order()},handleSizeChange:function(e){this.show_number=e,this.QueryRepair_order()},handleCurrentChange:function(e){this.Pagesize=e,this.QueryRepair_order()},handleSkipRepair:function(e){this.order=e.Repair_Orderno,this.$router.push({path:"/repairMaintain/repairDetails",query:{Repair_Orderno:e.Repair_Orderno}})},handleSubmit:function(e){var r=this;this.statu=0,this.order=e.Repair_Orderno,this.$confirm("是否提交该条报修？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){r.Repair_Status(),r.QueryRepair_order()})},handleDelete:function(e){var r=this;this.$confirm("此操作将永远删除该条数据，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.i(n.k)(e.Repair_Orderno).then(function(e){JSON.parse(e.data)?(r.$message({message:"删除成功",type:"success"}),r.QueryRepair_order()):r.$message.error("删除失败")}).catch(function(e){})})},handleRevoke:function(e){this.order=e.Repair_Orderno,this.statu=-1,this.dialogRevokeVisible=!0},submitRevoke:function(){var e=this,r=this.formrevoke.repair_result+this.formrevoke.repairResult;t.i(n.l)({Repair_Orderno:this.order,Status:this.statu,UserName:this.userInfo.nickname,Describe:r}).then(function(r){JSON.parse(r.data)?(e.$message({message:"操作成功",type:"success"}),e.dialogRevokeVisible=!1,e.QueryRepair_order()):e.$message.error("操作失败")}).catch(function(e){})},handleReceive:function(e){var r=this;this.$confirm("确定要受理该条报修吗？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.i(n.m)({Repair_Orderno:e.Repair_Orderno,Repair_type:e.Repair_type,AcceptanceUser:r.userInfo.uid,UserName:r.userInfo.nickname}).then(function(e){JSON.parse(e.data)?(r.$message({message:"受理成功",type:"success"}),r.QueryRepair_order()):r.$message.error("受理失败")}).catch(function(e){})})},handleDivision:function(e){var r=this;this.dialogDivisionVisible=!0,this.order=e.Repair_Orderno,t.i(n.e)().then(function(e){r.manList=JSON.parse(e.data),r.Repair_sparepartList(),r.Repair_toolList()}).catch(function(e){})},submitDivision:function(e){var r=this;this.$refs[e].validate(function(a){if(a){var i;i=r.form.repair_date?new Date(r.form.repair_date).format("yyyy/MM/dd"):"",t.i(n.n)({Repair_Orderno:r.order,Service_type:r.form.repair_type,Repair_User:r.form.repair_man,Repair_UserName:r.NICKNAME,Service_time:i,UserName:r.userInfo.nickname}).then(function(t){JSON.parse(t.data)?(r.$message({message:"派工成功",type:"success"}),r.$refs[e].resetFields(),r.dialogDivisionVisible=!1,r.QueryRepair_order()):r.$message.error("派工失败")}).catch(function(e){})}})},handleRemote:function(e){this.dialogRepairVisible=!0,this.order=e.Repair_Orderno},submitRemote:function(){var e=this;t.i(n.p)({Repair_orderno:this.order,Repair_process:this.repairWay,Repair_result:this.repair_Result}).then(function(r){JSON.parse(r.data)?(e.$message({message:"操作成功",type:"success"}),e.repairWay="",e.repair_Result="",e.dialogRepairVisible=!1,e.statu=4,e.Repair_Status(),e.QueryRepair_order()):e.$message.error("操作失败")}).catch(function(e){})},handleAccept:function(e){var r=this;this.$confirm("确定要接受/维修该条报修吗？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){t.i(n.o)({Repair_Orderno:e.Repair_Orderno,Status:3,Describe:"",UserName:r.userInfo.nickname}).then(function(e){JSON.parse(e.data)?(r.$message({message:"操作成功",type:"success"}),r.QueryRepair_order()):r.$message.error("操作失败")}).catch(function(e){})})},handleRefuse:function(e){this.dialogRefuseVisible=!0,this.order=e.Repair_Orderno},submitRefuse:function(e){var r=this;this.$refs[e].validate(function(e){if(e){var a=r.formrefuse.repair_result+r.formrefuse.repairResult;t.i(n.o)({Repair_Orderno:r.order,Status:1,Describe:a,UserName:r.userInfo.nickname}).then(function(e){JSON.parse(e.data)?(r.$message({message:"操作成功",type:"success"}),r.dialogRefuseVisible=!1,r.QueryRepair_order()):r.$message.error("操作失败")}).catch(function(e){})}})},handleFinished:function(e){var r=this;this.statu=4,this.order=e.Repair_Orderno,this.$confirm("确定该条报修已完工吗？",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){r.Repair_Status(),r.QueryRepair_order()})},handleCheck:function(e){this.dialogPassVisible=!0,this.order=e.Repair_Orderno,"1"===e.Repair_type&&(this.disabled=!0,this.title="维修总结")},changeValue:function(e){var r={};void 0!==(r=this.manList.find(function(r){return r.RepairUserID===Number(e)}))&&(this.NICKNAME=r.nickname)},handlePass:function(e){1===e?(this.nopass=5,this.show=!0):(this.nopass=4,this.show=!1)},handleCheckFailure:function(e){this.nopass=e},submitPass:function(e){var r=this;t.i(n.q)({Repair_Orderno:this.order,Status:5,Settlement:this.forms.pay_type,Cost:this.forms.pay_money,Describe:this.forms.pay_content,UserName:this.userInfo.nickname}).then(function(t){JSON.parse(t.data)?(r.$message({message:"操作成功",type:"success"}),r.$refs[e].resetFields(),r.dialogPassVisible=!1,r.QueryRepair_order()):r.$message.error("操作失败")}).catch(function(e){})},submitnoPass:function(){var e=this;t.i(n.q)({Repair_Orderno:this.order,Status:this.nopass,Describe:this.repairResult,UserName:this.userInfo.nickname}).then(function(r){JSON.parse(r.data)?(e.$message({message:"操作成功",type:"success"}),e.repairResult="",e.dialogPassVisible=!1,e.nopass=6,e.QueryRepair_order()):e.$message.error("操作失败")}).catch(function(e){})},handleCellClick:function(e,r,t,a){if(t.querySelector(".cell-value")){t.querySelector(".cell-value").style.display="none";t.querySelector(".cell-input").style.display="inline-block",t.querySelector(".not-el-input")&&t.querySelector(".not-el-input").select()}},handleBlur:function(e,r){e.target.parentNode.style.display="none",e.target.parentNode.previousSibling.previousSibling.style.display="inline-block"},GetRepair_ProjectDevice:function(){var e=this;if(""===this.searchForm.smallClass)return!1;t.i(n.G)(this.searchForm.smallClass,this.searchForm.projectName.join(",")).then(function(r){e.deviceList=JSON.parse(r.data)}).catch(function(e){})},fetchclassList:function(){var e=this;t.i(s.c)().then(function(r){e.typeTreeData=JSON.parse(r.data)}).catch(function(e){})},QueryRepair_order:function(){var e=this;this.loading=!0,t.i(n.H)({Operator:this.userInfo.uid,Projectid:0===this.searchForm.projectName.length?"":this.searchForm.projectName.join(","),DownType:this.searchForm.smallClass,Equipment:this.searchForm.equipment,Repair_man_phone:this.searchForm.repairMan,Repair_unitids:"",Fault_description:this.searchForm.repairInfo,Status:this.searchForm.repairStatus,StartTime:this.startTime,EndTime:this.endTime,AcceptanceTime:this.searchForm.receiveTime,Repair_Orderno:"",AcceptanceUser:0===this.searchForm.receiver.length?"":this.searchForm.receiver.join(","),Repair_User:"",show_number:this.show_number,pagesize:this.Pagesize}).then(function(r){e.loading=!1,e.data=JSON.parse(r.data).data,e.total=JSON.parse(r.data).sumCount}).catch(function(e){})},Repair_sparepartList:function(){var e=this;t.i(n.I)(this.order).then(function(r){e.should=JSON.parse(r.data)}).catch(function(e){})},Repair_toolList:function(){var e=this;t.i(n.J)(this.order).then(function(r){e.need=JSON.parse(r.data)}).catch(function(e){})},Repair_Status:function(){var e=this;t.i(n.l)({Repair_Orderno:this.order,Status:this.statu,UserName:this.userInfo.nickname}).then(function(r){JSON.parse(r.data)?(e.$message({message:"操作成功",type:"success"}),e.QueryRepair_order()):e.$message.error("操作失败")}).catch(function(e){})},typeTreeClick:function(e,r,t){1===r.level&&(this.searchForm.repairType=r.data.TypeName,this.QueryRepair_order()),2===r.level&&(this.searchForm.repairType=r.parent.data.TypeName+"/"+r.data.TypeName,this.searchForm.smallClass=r.data.ID,this.QueryRepair_order())}}}},1266:function(e,r,t){r=e.exports=t(539)(),r.push([e.i,'.repairOddNumber{cursor:pointer}.noCheck,.noDivision,.noSubmit{color:#faad14}.noAcceptance{color:#f5222d}.haveDone,.noAccept{color:#1890ff}.repairing{color:#52c41a}.repair-subitem-select{display:none}.repair-item-popover .subTree{height:300px;overflow:auto;border:none}@media (max-width:1200px){.notic{display:none}}.repair-wrapper .el-row{margin:0}.repair-wrapper .boxShadow{border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,.4);background:#fff;overflow:hidden}.repair-wrapper .descript .el-textarea__inner{padding:0 7px}.repair-wrapper .user-dialog{width:386px}.repair-wrapper .user-dialog .el-dialog__header{padding:0}.repair-wrapper .user-dialog .search-result{margin-top:15px;padding:10px;border:1px solid #ccc;height:200px;border-radius:4px;overflow-y:auto}.repair-wrapper .user-dialog .result-item{display:inline-block;width:140px;height:50px;border:1px dashed #ccc;padding:5px;position:relative;font-size:14px;background:#fff;margin:0 5px 10px;cursor:pointer}.repair-wrapper .user-dialog .is-member{cursor:not-allowed}.repair-wrapper .user-dialog .cont{margin-top:5px}.repair-wrapper .user-dialog .cont:after{content:"";display:block;clear:both}.repair-wrapper .user-dialog .avatar{width:40px;height:40px;vertical-align:middle;float:left}.repair-wrapper .user-dialog .disc{margin-left:5px;float:left}.repair-wrapper .user-dialog .discname{display:block;width:95px;height:20px;overflow:hidden;text-overflow:ellipsis}.repair-wrapper .user-dialog .discname:last-child{color:#999}.repair-wrapper .user-dialog .invite{color:#58abdf;text-decoration:underline;cursor:pointer}.repair-wrapper .projectinfo *{box-sizing:border-box}.repair-wrapper .projectinfo .area-wrap,.repair-wrapper .projectinfo .equipment-wrap{box-shadow:0 0 2px rgba(0,0,0,.4);border-radius:4px;overflow:hidden}.repair-wrapper .projectinfo .area-wrap .handle-wrap{float:right;cursor:pointer}.repair-wrapper .projectinfo .area-wrap .handle-wrap .edit-btn{margin:0 3px;cursor:pointer}.repair-wrapper .projectinfo .area-wrap .handle-wrap .append-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background-color:#1e91f0;border-color:#1e91f0}.repair-wrapper .projectinfo .area-wrap .handle-wrap .remove-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background:#fb7070;border-color:#fb7070}.repair-wrapper .projectinfo .area-wrap .handle-wrap .edit-btn{padding:4px;border-radius:50%;border:2px solid;color:#1bc980;border-color:#1bc980}.repair-wrapper .projectinfo .area-content{overflow-y:auto;padding:15px;height:400px}.repair-wrapper .projectinfo .area-content .append-btn,.repair-wrapper .projectinfo .area-content .edit-btn,.repair-wrapper .projectinfo .area-content .remove-btn{margin:0 3px}.repair-wrapper .projectinfo .area-content .append-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background-color:#1e91f0;border-color:#1e91f0}.repair-wrapper .projectinfo .area-content .remove-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background:#fb7070;border-color:#fb7070}.repair-wrapper .projectinfo .area-content .edit-btn{padding:4px;border-radius:50%;border:2px solid;color:#1bc980;border-color:#1bc980}.repair-wrapper .projectinfo .area-content .label-input{width:80px;height:25px;border-radius:3px;outline:none;border:1px solid #bfc7d9;padding:0 4px}.repair-wrapper .projectinfo .area-content .editOk-btn{border:none;outline:none;background:none;color:#20a0ff;border-radius:4px;margin-left:4px;cursor:pointer}.repair-wrapper .projectinfo .area-content .addNodeDialog{width:400px}.repair-wrapper .projectinfo .area-content .el-dialog__body{padding-bottom:0}.repair-wrapper .projectinfo .area-content .el-tree{height:370px;overflow:auto}.repair-wrapper .projectinfo .area-content .el-tree .icon{width:16px;height:16px;margin-right:5px}.repair-wrapper .projectinfo .equipment-content{padding:15px;height:400px;overflow:auto}.repair-wrapper .projectinfo .el-tree{border:none}.repair-wrapper .projectinfo .margin6{margin-right:6px}.repair-wrapper .projectinfo .icon-devices{color:red;font-size:18px}.repair-wrapper .projectinfo .el-dialog--small{width:80%;padding-bottom:20px}.repair-wrapper .addNodeDialoginner .el-dialog--small{width:20%}.repairCommonBtn .button_group{margin-bottom:20px;display:inline-block;width:17%}.repairCommonBtn .button_group .subBtn{width:100%;font-size:20px;color:#324057;font-weight:700;border:none;cursor:pointer;font-family:Helvetica Neue,Helvetica,microsoft yahei,arial,STHeiTi,sans-serif}.repairCommonBtn .button_group .subBtn .repair_sub_button{line-height:44px}.repairCommonBtn .button_group .subBtn .repair_sub_button img{margin-right:10px;vertical-align:middle}.repairCommonBtn .repair_button{height:44px;padding:0 15px;font-size:18px;color:#fff;font-weight:700;border:none;border-radius:4px;box-shadow:0 0 6px rgba(0,0,0,.4);cursor:pointer;font-family:Helvetica Neue,Helvetica,microsoft yahei,arial,STHeiTi,sans-serif;background:#90d800;background:-moz-linear-gradient(top,#90d800,#339300);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#90D800",endColorstr="#339300")}.repairCommonBtn .repair_button .repair_sub_button{line-height:44px}.repairCommonBtn .repair_button .repair_sub_button img{margin-right:10px;vertical-align:middle}@media (max-width:1380px){.repairCommonBtn .button_group{width:25%}}@media (max-width:1080px){.repairCommonBtn .button_group{width:45%}}.repair{font-size:13px;color:#324057}.repair .clearfix:after{content:"";display:block;clear:both}.repair .boxpanel .adaption_col{width:calc(50% - 20px)}.repair .inputNum{height:42px;border:1px solid #bfcbd9;border-radius:4px;padding-left:10px}.repair .notic{line-height:26px;margin-left:30px;font-size:13px;font-weight:400;float:left}.repair .box .adaption_col{width:calc(50% - 20px)}.repair .box .el-input__inner{height:44px;line-height:2}.repair .box .el-form-item__label{font-weight:700}.repair .box .el-upload--picture-card{height:70px;width:70px;line-height:70px}.repair .box .el-upload-list{float:left}.repair .box .el-upload-list--picture-card .el-upload-list__item{height:70px;width:70px}.repair .box .el-upload-list--picture-card .el-upload-list__item-status-label i{margin-top:11px}.repair .box .el-form-item{margin-bottom:42px}.repair .box .el-form-item .el-form-item{margin-bottom:0}.repair .user-dialog{width:386px}.repair .user-dialog .el-dialog__header{padding:0}.repair .user-dialog .search-result{margin-top:15px;padding:10px;border:1px solid #ccc;height:200px;border-radius:4px;overflow-y:auto}.repair .user-dialog .result-item{display:inline-block;width:140px;height:50px;border:1px dashed #ccc;padding:5px;position:relative;font-size:14px;background:#fff;margin:0 5px 10px;cursor:pointer}.repair .user-dialog .is-member{cursor:not-allowed}.repair .user-dialog .cont{margin-top:5px}.repair .user-dialog .cont:after{content:"";display:block;clear:both}.repair .user-dialog .avatar{width:40px;height:40px;vertical-align:middle;float:left}.repair .user-dialog .disc{margin-left:5px;float:left}.repair .user-dialog .discname{display:block;width:95px;height:20px;overflow:hidden;text-overflow:ellipsis}.repair .user-dialog .discname:last-child{color:#999}.repair .user-dialog .invite{color:#58abdf;text-decoration:underline;cursor:pointer}.repair .projectinfo *{box-sizing:border-box}.repair .projectinfo .area-wrap,.repair .projectinfo .equipment-wrap{box-shadow:0 0 2px rgba(0,0,0,.4);border-radius:4px;overflow:hidden}.repair .projectinfo .area-wrap .handle-wrap{float:right;cursor:pointer}.repair .projectinfo .area-wrap .handle-wrap .edit-btn{margin:0 3px;cursor:pointer}.repair .projectinfo .area-wrap .handle-wrap .append-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background-color:#1e91f0;border-color:#1e91f0}.repair .projectinfo .area-wrap .handle-wrap .remove-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background:#fb7070;border-color:#fb7070}.repair .projectinfo .area-wrap .handle-wrap .edit-btn{padding:4px;border-radius:50%;border:2px solid;color:#1bc980;border-color:#1bc980}.repair .projectinfo .area-content{overflow-y:auto;padding:15px;height:400px}.repair .projectinfo .area-content .append-btn,.repair .projectinfo .area-content .edit-btn,.repair .projectinfo .area-content .remove-btn{margin:0 3px}.repair .projectinfo .area-content .append-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background-color:#1e91f0;border-color:#1e91f0}.repair .projectinfo .area-content .remove-btn{padding:4px;border-radius:50%;border:2px solid;color:#fff;background:#fb7070;border-color:#fb7070}.repair .projectinfo .area-content .edit-btn{padding:4px;border-radius:50%;border:2px solid;color:#1bc980;border-color:#1bc980}.repair .projectinfo .area-content .label-input{width:80px;height:25px;border-radius:3px;outline:none;border:1px solid #bfc7d9;padding:0 4px}.repair .projectinfo .area-content .editOk-btn{border:none;outline:none;background:none;color:#20a0ff;border-radius:4px;margin-left:4px;cursor:pointer}.repair .projectinfo .area-content .addNodeDialog{width:400px}.repair .projectinfo .area-content .el-dialog__body{padding-bottom:0}.repair .projectinfo .area-content .el-tree{height:370px;overflow:auto}.repair .projectinfo .area-content .el-tree .icon{width:16px;height:16px;margin-right:5px}.repair .projectinfo .equipment-content{padding:15px;height:400px;overflow:auto}.repair .projectinfo .el-tree{border:none}.repair .projectinfo .margin6{margin-right:6px}.repair .projectinfo .icon-devices{color:red;font-size:18px}.repair .projectinfo .el-dialog--small{width:80%;padding-bottom:20px}.repair .el-form-item__label{text-align:center}.repair .linkBtn{border:1px solid #bfd7d9;color:#333999;padding:13px 10px;border-radius:4px}.repair .calc{width:calc(100% - 42px)}.repair .calc1{width:calc(100% - 105px)}.repair .calc2{width:calc(100% - 40px)}.repair .planPanel{padding-top:40px}.repair .planPanel .pl_top{text-align:center;margin-bottom:60px}.repair .planPanel .pl_top span{display:inline-block;height:40px;line-height:40px;padding:0 30px;border:1px solid #2795db;border-radius:20px}.repair .planPanel .pl_top i{color:#2795db;margin-left:3px}.repair .planPanel .upload-contract{margin-top:50px;position:relative;height:40px;width:50%;border:1px solid #bfcbd9;border-radius:4px}.repair .planPanel .upload-contract .el-upload--text{width:auto;height:auto;border:none;position:absolute;top:-50px}.repair .planPanel .upload_model .el-upload--text{width:auto;height:auto;border:none}.repair .planPanel .upload_model .el-upload-list{display:none}.repair .commonWrapper{color:#324057}.repair .commonWrapper .commonBox{border-radius:4px;margin-bottom:20px}.repair .commonWrapper .commonBox .commonHeader{height:46px;padding:10px;color:#324057;border-bottom:1px solid #dedfe0}.repair .commonWrapper .commonBox .commonHeader .commonImg{float:left;margin-right:5px;height:20px;width:20px}.repair .commonWrapper .commonBox .commonHeader .squareDown{float:right;margin-top:12px;margin-right:10px;height:20px;width:20px;cursor:pointer}.repair .commonWrapper .commonBox .commonHeader .squareDown .commonIcon{float:left}.repair .commonWrapper .commonBox .commonHeader .commonTitle{float:left;height:26px;line-height:26px;font-size:15px;font-weight:700}.repair .commonWrapper .commonBox .commonContent .el-form{margin:50px 5% 20px}.repair .commonWrapper .commonBox .commonContent .subBtn{margin-bottom:20px;text-align:center}.repair .left{width:160px;float:left;box-sizing:border-box}.repair .left .changeBtn{width:100%;color:#fff;margin:0 0 10px}.repair .left .btncolor{width:100%;color:#324057;margin:0 0 10px}.repair .right{margin-left:170px}.repair .right .changeBtn1{height:26px;border:1px solid #6ec1ff;border-radius:4px;float:right}.repairIndex{padding:24px 32px;box-sizing:border-box;background:#fff;overflow:hidden;border-radius:4px}.repairIndex .clearfix:after{content:"";display:block;clear:both}.repairIndex .tableBtn{margin:5px 0}.repairIndex .actives{background:#399;color:#fff;border-color:#399}.repairIndex .dialogBox .el-dialog{width:600px}.repairIndex .dialogBox .el-dialog .el-input,.repairIndex .dialogBox .el-dialog .el-select{width:100%}.repairIndex .dialogBox .el-dialog .ct{margin:0 10px 12px 0;display:inline-block}.repairIndex .dialogBox .el-dialog .cm{margin:12px 10px 12px 0;display:inline-block}.repairIndex .dialogBox .el-dialog .passBtn{text-align:center;margin-bottom:10px}.repairIndex .notic{line-height:30px;margin-left:30px;font-size:13px;font-weight:400;float:left}.repairIndex .floatBtn{float:right}.repairIndex .floatBtn span{font-weight:400}.repairIndex .button{height:28px;margin-left:10px;font-size:13px;vertical-align:middle}.repairIndex .placeholder_margin_left::-webkit-input-placeholder{padding-left:10px}.repairIndex .placeholder_margin_left:-moz-placeholder,.repairIndex .placeholder_margin_left::-moz-placeholder{padding-left:10px}.repairIndex .placeholder_margin_left:-ms-input-placeholder{padding-left:10px}.repairIndex .formrefuse .el-form-item__content{margin-left:0!important}.repairIndex .el-table .el-table__row td:last-child .cell{padding-left:5px;padding-right:5px}.HeaderBtn .cell-input,.repair .cell-input,.repairIndex .cell-input{display:none}.HeaderBtn .cell-input input,.repair .cell-input input,.repairIndex .cell-input input{padding-left:7px;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #bfcbd9;box-sizing:border-box;color:#1f2d3d;font-size:inherit;line-height:1;outline:none;transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%;height:25px}.HeaderBtn .cell-input input:focus,.repair .cell-input input:focus,.repairIndex .cell-input input:focus{outline:none;border-color:#20a0ff}@media (max-width:1540px){.repair .commonWrapper .commonBox .commonContent .el-form{margin:22px 5% 20px}.repair .box .el-form-item{margin-bottom:22px}.repair .box .el-form-item .el-form-item{margin-bottom:0}}@media (max-width:1360px){.repair .adaption{width:100%}.repair .adaption_exp{width:calc(100% - 40px)}.repair .adaption_col{width:calc(100% - 40px)!important}}@media (max-width:810px){.repair .notic{display:none}}',""])},1396:function(e,r,t){var a=t(1266);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(540)("1ed6d604",a,!0)},1550:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"repairIndex"},[t("el-form",{ref:"searchForm",attrs:{model:e.searchForm,"label-width":"70px"}},[t("el-row",{attrs:{gutter:48}},[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"维修状态",prop:"repairStatus"}},[t("el-select",{staticClass:"w100",attrs:{size:"small",placeholder:"请选择"},on:{change:e.QueryRepair_order},model:{value:e.searchForm.repairStatus,callback:function(r){e.$set(e.searchForm,"repairStatus",r)},expression:"searchForm.repairStatus"}},[t("el-option",{attrs:{label:"全部",value:"-2"}}),e._v(" "),t("el-option",{attrs:{label:"待受理",value:"0"}}),e._v(" "),t("el-option",{attrs:{label:"待派工",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"待接单",value:"2"}}),e._v(" "),t("el-option",{attrs:{label:"维修中",value:"3"}}),e._v(" "),t("el-option",{attrs:{label:"待验收",value:"4"}}),e._v(" "),t("el-option",{attrs:{label:"完成",value:"5"}}),e._v(" "),t("el-option",{attrs:{label:"已评价",value:"6"}})],1)],1)],1),e._v(" "),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"报修时间",prop:"repairTime"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small",type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions2,format:"yyyy-MM-dd","value-format":"yyyy-M-d"},on:{change:e.formatTime},model:{value:e.searchForm.repairTime,callback:function(r){e.$set(e.searchForm,"repairTime",r)},expression:"searchForm.repairTime"}})],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"项目名称",prop:"projectName"}},[t("el-select",{staticClass:"w100",attrs:{size:"small",filterable:"",multiple:""},on:{change:e.QueryRepair_order},model:{value:e.searchForm.projectName,callback:function(r){e.$set(e.searchForm,"projectName",r)},expression:"searchForm.projectName"}},e._l(e.projectList,function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}),1)],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"维修分项",prop:"repairType"}},[t("el-popover",{ref:"typePopover",attrs:{placement:"bottom",width:"300",trigger:"click","popper-class":"repair-item-popover"}},[t("el-tree",{staticClass:"subTree thin-scroll",attrs:{data:e.typeTreeData,"node-key":"id",accordion:"",props:e.typeTreeProps,"highlight-current":""},on:{"node-click":e.typeTreeClick}})],1),e._v(" "),t("el-select",{directives:[{name:"popover",rawName:"v-popover:typePopover",arg:"typePopover"}],ref:"typeInput",staticStyle:{display:"block"},attrs:{size:"small",placeholder:"选择类型","popper-class":"repair-subitem-select"},model:{value:e.searchForm.repairType,callback:function(r){e.$set(e.searchForm,"repairType",r)},expression:"searchForm.repairType"}})],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"维修设备",prop:"equipment"}},[t("el-select",{staticClass:"w100",attrs:{placeholder:"请选择",size:"small"},on:{change:e.QueryRepair_order},model:{value:e.searchForm.equipment,callback:function(r){e.$set(e.searchForm,"equipment",r)},expression:"searchForm.equipment"}},e._l(e.deviceList,function(e){return t("el-option",{key:e.id,attrs:{label:e.mname,value:e.id}})}),1)],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"受理人",prop:"receiver"}},[t("el-select",{staticClass:"w100",attrs:{filterable:"",multiple:"",placeholder:"请选择",size:"small"},on:{change:e.QueryRepair_order},model:{value:e.searchForm.receiver,callback:function(r){e.$set(e.searchForm,"receiver",r)},expression:"searchForm.receiver"}},e._l(e.acceptList,function(e){return t("el-option",{key:e.id,attrs:{label:e.nickname,value:e.RepairUserID}})}),1)],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"受理用时",prop:"receiveTime"}},[t("el-select",{staticClass:"w100",attrs:{filterable:"",placeholder:"请选择",size:"small"},on:{change:e.QueryRepair_order},model:{value:e.searchForm.receiveTime,callback:function(r){e.$set(e.searchForm,"receiveTime",r)},expression:"searchForm.receiveTime"}},[t("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),t("el-option",{attrs:{label:"30分钟内",value:"30"}}),e._v(" "),t("el-option",{attrs:{label:"60分钟内",value:"60"}}),e._v(" "),t("el-option",{attrs:{label:"90分钟内",value:"90"}}),e._v(" "),t("el-option",{attrs:{label:"120分钟内",value:"129"}}),e._v(" "),t("el-option",{attrs:{label:"大于120分钟",value:"121"}})],1)],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{label:"其他方式",prop:"repairInfo"}},[t("el-input",{attrs:{placeholder:"输入维修内容查询",size:"small"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.QueryRepair_order(r)}},model:{value:e.searchForm.repairInfo,callback:function(r){e.$set(e.searchForm,"repairInfo","string"==typeof r?r.trim():r)},expression:"searchForm.repairInfo"}})],1)],1),e._v(" "),t("el-col",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{span:8}},[t("el-form-item",{attrs:{prop:"repairMan"}},[t("el-input",{attrs:{placeholder:"输入报修人/电话查询",size:"small"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.QueryRepair_order(r)}},model:{value:e.searchForm.repairMan,callback:function(r){e.$set(e.searchForm,"repairMan","string"==typeof r?r.trim():r)},expression:"searchForm.repairMan"}})],1)],1),e._v(" "),t("el-col",{style:{float:e.formVisible?"right":"auto"},attrs:{span:8}},[t("el-form-item",[t("el-button",{attrs:{size:"small",icon:"el-icon-refresh",type:"danger"},on:{click:e.clearBtn}},[e._v("\n              重置\n            ")]),e._v(" "),t("el-button",{attrs:{size:"small",type:"text",icon:e.formVisible?"el-icon-arrow-up":"el-icon-arrow-down"},on:{click:function(r){e.formVisible=!e.formVisible}}},[e._v("\n              "+e._s(e.formVisible?"收起":"展开")+"\n            ")])],1)],1)],1)],1),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中..."}},[t("el-table",{attrs:{data:e.data,"highlight-current-row":"",fit:""}},[t("el-table-column",{attrs:{label:"维修单号",width:"270"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleSkipRepair(r.row)}}},[e._v("\n              "+e._s(r.row.Repair_Orderno)+"\n            ")]),e._v(" "),t("el-tag",{class:{noSubmit:-1==r.row.Status,noAcceptance:0==r.row.Status,noDivision:1==r.row.Status,noAccept:2==r.row.Status,repairing:3==r.row.Status,noCheck:4==r.row.Status,haveDone:r.row.Status>4},attrs:{type:-1==r.row.Status?"warning":0==r.row.Status?"danger":1==r.row.Status?"warning":2==r.row.Status?"":3==r.row.Status?"success":4==r.row.Status?"warning":"",size:"small"}},[e._v("\n              "+e._s(-1==r.row.Status?"待提交":0==r.row.Status?"待受理":1==r.row.Status?"待派工":2==r.row.Status?"待接单":3==r.row.Status?"维修中":4==r.row.Status?"待验收":"已维修")+"\n            ")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"EquipmentName",label:"故障设备","min-width":"180"}}),e._v(" "),t("el-table-column",{attrs:{prop:"Fault_description",label:"故障内容","min-width":"200"}}),e._v(" "),t("el-table-column",{attrs:{prop:"Repair_man",label:"报修人",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"CreateTime",label:"报修时间",width:"180"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nickname",label:"受理人",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:-1==r.row.Status&&e.userInfo.uid===r.row.Companyid,expression:"scope.row.Status==-1 && userInfo.uid===scope.row.Companyid"}],staticStyle:{color:"#88E2A3"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleSubmit(r.row)}}},[e._v("\n              提交\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:-1==r.row.Status&&e.userInfo.uid===r.row.Companyid,expression:"scope.row.Status==-1 && userInfo.uid===scope.row.Companyid"}],staticStyle:{color:"#FDA75A"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleDelete(r.row)}}},[e._v("\n              删除\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==r.row.Status&&e.userInfo.uid===r.row.Companyid,expression:"scope.row.Status==0 && userInfo.uid===scope.row.Companyid"}],staticStyle:{color:"#FDA75A"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleRevoke(r.row)}}},[e._v("\n              撤销\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==r.row.Status&&e.userInfo.uid===r.row.Repair_unitID,expression:"scope.row.Status==0 && userInfo.uid===scope.row.Repair_unitID"}],staticStyle:{color:"#88E2A3"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleReceive(r.row)}}},[e._v("\n              受理\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1==r.row.Status&&e.userInfo.uid===r.row.Repair_unitID,expression:"scope.row.Status==1 && userInfo.uid===scope.row.Repair_unitID"}],staticStyle:{color:"#FDA75A"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleDivision(r.row)}}},[e._v("\n              派工\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1==r.row.Status&&e.userInfo.uid===r.row.Repair_unitID,expression:"scope.row.Status==1 && userInfo.uid===scope.row.Repair_unitID"}],staticStyle:{color:"#FDA75A"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleAccept(r.row)}}},[e._v("\n              维修\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1==r.row.Status&&e.userInfo.uid===r.row.Repair_unitID,expression:"scope.row.Status==1 && userInfo.uid===scope.row.Repair_unitID"}],staticStyle:{color:"#f191f4"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleRemote(r.row)}}},[e._v("\n              远程\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2==r.row.Status&&e.userInfo.uid===r.row.Repair_User,expression:"scope.row.Status==2 && userInfo.uid===scope.row.Repair_User"}],staticStyle:{color:"#7FB4EF"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleAccept(r.row)}}},[e._v("\n              接受\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2==r.row.Status&&e.userInfo.uid===r.row.Repair_User,expression:"scope.row.Status==2 && userInfo.uid===scope.row.Repair_User"}],staticStyle:{color:"#FF9382"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleRefuse(r.row)}}},[e._v("\n              拒绝\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==r.row.Status&&e.userInfo.uid===r.row.Repair_User,expression:"scope.row.Status==3 && userInfo.uid===scope.row.Repair_User"}],staticStyle:{color:"#91cef4"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleFinished(r.row)}}},[e._v("\n              完工\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:4==r.row.Status&&(e.userInfo.uid===r.row.Repair_unitID||e.userInfo.uid===r.row.Companyid),expression:"scope.row.Status==4 &&\n                (userInfo.uid===scope.row.Repair_unitID || userInfo.uid===scope.row.Companyid)"}],staticStyle:{color:"#FF9382"},attrs:{size:"small",type:"text"},on:{click:function(t){return e.handleCheck(r.row)}}},[e._v("\n              验收\n            ")])]}}])})],1),e._v(" "),t("el-pagination",{staticClass:"paginationBox",attrs:{background:"","current-page":e.Pagesize,"page-sizes":[10,20,50,100],"page-size":e.show_number,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{staticClass:"dialogBox",attrs:{title:"主管派工",visible:e.dialogDivisionVisible},on:{"update:visible":function(r){e.dialogDivisionVisible=r}}},[t("el-form",{ref:"formm",attrs:{model:e.form,rules:e.rules,"label-position":"left"}},[t("el-form-item",{attrs:{label:"服务类型","label-width":"120px",prop:"repair_type"}},[t("el-select",{attrs:{placeholder:"请选择服务类型"},model:{value:e.form.repair_type,callback:function(r){e.$set(e.form,"repair_type",r)},expression:"form.repair_type"}},e._l(e.ways,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id.toString()}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"派工","label-width":"120px",prop:"repair_man"}},[t("el-select",{attrs:{placeholder:"请选择维修工"},on:{change:e.changeValue},model:{value:e.form.repair_man,callback:function(r){e.$set(e.form,"repair_man",r)},expression:"form.repair_man"}},e._l(e.manList,function(e){return t("el-option",{key:e.id,attrs:{label:e.nickname,value:e.RepairUserID.toString()}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"指定服务时间","label-width":"120px",prop:"repair_date"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.form.repair_date,callback:function(r){e.$set(e.form,"repair_date",r)},expression:"form.repair_date"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"维修初诊",prop:"repair_content"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.form.repair_content,callback:function(r){e.$set(e.form,"repair_content",r)},expression:"form.repair_content"}})],1)],1),e._v(" "),t("div",[t("div",{staticClass:"ct"},[e._v("\n          应带备件\n        ")]),e._v(" "),t("el-button",{staticClass:"add",attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return e.addRow(1)}}},[e._v("\n          添加\n        ")])],1),e._v(" "),t("el-table",{attrs:{data:e.should,"highlight-current-row":"","max-height":"120"},on:{"cell-click":e.handleCellClick}},[t("el-table-column",{attrs:{type:"index",width:"70",label:"序号"}}),e._v(" "),t("el-table-column",{attrs:{label:"备件名称"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Sparepart_name))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.row.Sparepart_name,expression:"scope.row['Sparepart_name']"}],staticClass:"not-el-input",domProps:{value:r.row.Sparepart_name},on:{blur:function(t){return e.handleBlur(t,r.row.Sparepart_name)},input:function(t){t.target.composing||e.$set(r.row,"Sparepart_name",t.target.value)}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"备件规格"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Sparepart_size))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.row.Sparepart_size,expression:"scope.row['Sparepart_size']"}],staticClass:"not-el-input",domProps:{value:r.row.Sparepart_size},on:{blur:function(t){return e.handleBlur(t,r.row.Sparepart_size)},input:function(t){t.target.composing||e.$set(r.row,"Sparepart_size",t.target.value)}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"数量",width:"70"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Number))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.row.Number,expression:"scope.row['Number']",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:r.row.Number},on:{blur:[function(t){return e.handleBlur(t,r.row.Number)},function(r){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(r.row,"Number",e._n(t.target.value))}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"注释"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Remarks))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.row.Remarks,expression:"scope.row['Remarks']"}],staticClass:"not-el-input",domProps:{value:r.row.Remarks},on:{blur:function(t){return e.handleBlur(t,r.row.Remarks)},input:function(t){t.target.composing||e.$set(r.row,"Remarks",t.target.value)}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:null==r.row.ID,expression:"scope.row['ID']==null?true:false"}],staticStyle:{color:"#88E2A3"},attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return e.handleAdd(r.row,1)}}},[e._v("\n              保存\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:null!=r.row.ID,expression:"scope.row['ID']!=null?true:false"}],staticStyle:{color:"#88E2A3"},attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return e.handleUpdate(r.row,1)}}},[e._v("\n              修改\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:null!=r.row.ID,expression:"scope.row['ID']!=null?true:false"}],staticStyle:{color:"#FDA75A"},attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return e.handleDeleteRow(r.row,1)}}},[e._v("\n              删除\n            ")])]}}])})],1),e._v(" "),t("div",[t("div",{staticClass:"cm"},[e._v("\n          所需工具\n        ")]),e._v(" "),t("el-button",{staticClass:"add",attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return e.addRow(2)}}},[e._v("\n          添加\n        ")])],1),e._v(" "),t("el-table",{attrs:{data:e.need,"highlight-current-row":"","max-height":"120"},on:{"cell-click":e.handleCellClick}},[t("el-table-column",{attrs:{type:"index",width:"70",label:"序号"}}),e._v(" "),t("el-table-column",{attrs:{label:"工具名称"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Tool_name))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.row.Tool_name,expression:"scope.row['Tool_name']"}],staticClass:"not-el-input",domProps:{value:r.row.Tool_name},on:{blur:function(t){return e.handleBlur(t,r.row.Tool_name)},input:function(t){t.target.composing||e.$set(r.row,"Tool_name",t.target.value)}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"数量",width:"70"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Number))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:r.row.Number,expression:"scope.row['Number']",modifiers:{number:!0}}],staticClass:"not-el-input",attrs:{type:"number"},domProps:{value:r.row.Number},on:{blur:[function(t){return e.handleBlur(t,r.row.Number)},function(r){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(r.row,"Number",e._n(t.target.value))}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"备注"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticClass:"cell-value"},[e._v(e._s(r.row.Remarks))]),e._v(" "),t("div",{staticClass:"cell-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:r.row.Remarks,expression:"scope.row['Remarks']"}],staticClass:"not-el-input",domProps:{value:r.row.Remarks},on:{blur:function(t){return e.handleBlur(t,r.row.Remarks)},input:function(t){t.target.composing||e.$set(r.row,"Remarks",t.target.value)}}})])]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{directives:[{name:"show",rawName:"v-show",value:null==r.row.ID,expression:"scope.row['ID']==null?true:false"}],staticStyle:{color:"#88E2A3"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleAdd(r.row,2)}}},[e._v("\n              保存\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:null!=r.row.ID,expression:"scope.row['ID']!=null?true:false"}],staticStyle:{color:"#88E2A3","margin-left":"0"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleUpdate(r.row,2)}}},[e._v("\n              修改\n            ")]),e._v(" "),t("el-button",{directives:[{name:"show",rawName:"v-show",value:null!=r.row.ID,expression:"scope.row['ID']!=null?true:false"}],staticStyle:{color:"#FDA75A"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDeleteRow(r.row,2)}}},[e._v("\n              删除\n            ")])]}}])})],1),e._v(" "),t("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.submitDivision("formm")}}},[e._v("\n          提交\n        ")])],1)],1),e._v(" "),t("el-dialog",{staticClass:"dialogBox",attrs:{title:"主管远程维修",visible:e.dialogRepairVisible},on:{"update:visible":function(r){e.dialogRepairVisible=r}}},[t("div",{staticClass:"ct"},[e._v("\n        处理方法\n      ")]),e._v(" "),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.repairWay,callback:function(r){e.repairWay=r},expression:"repairWay"}}),e._v(" "),t("div",{staticClass:"cm"},[e._v("\n        处理结果\n      ")]),e._v(" "),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.repair_Result,callback:function(r){e.repair_Result=r},expression:"repair_Result"}}),e._v(" "),t("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitRemote}},[e._v("\n          提交\n        ")])],1)],1),e._v(" "),t("el-dialog",{staticClass:"dialogBox",attrs:{title:"维修工拒绝接单",visible:e.dialogRefuseVisible},on:{"update:visible":function(r){e.dialogRefuseVisible=r}}},[t("el-form",{ref:"formrefuse",attrs:{model:e.formrefuse,rules:e.ruleRefuse,"label-position":"left"}},[t("el-form-item",{attrs:{label:"拒绝原因","label-width":"100px",prop:"repair_result"}},[t("el-select",{attrs:{placeholder:"请选择拒绝原因"},model:{value:e.formrefuse.repair_result,callback:function(r){e.$set(e.formrefuse,"repair_result",r)},expression:"formrefuse.repair_result"}},[t("el-option",{key:"1",attrs:{label:"时间冲突",value:"时间冲突"}}),e._v(" "),t("el-option",{key:"2",attrs:{label:"出差在外",value:"出差在外"}}),e._v(" "),t("el-option",{key:"3",attrs:{label:"无法维修",value:"无法维修"}}),e._v(" "),t("el-option",{key:"4",attrs:{label:"其他原因",value:"其他原因"}})],1)],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"详细说明","label-width":"100px",prop:"repairResult"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.formrefuse.repairResult,callback:function(r){e.$set(e.formrefuse,"repairResult",r)},expression:"formrefuse.repairResult"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.submitRefuse("formrefuse")}}},[e._v("\n          提交\n        ")])],1)],1),e._v(" "),t("el-dialog",{staticClass:"dialogBox",attrs:{title:e.title,visible:e.dialogPassVisible},on:{"update:visible":function(r){e.dialogPassVisible=r}}},[t("div",{staticClass:"passBtn"},[t("el-button",{class:1==e.show?"el-button--primary":"",attrs:{size:"small"},on:{click:function(r){return e.handlePass(1)}}},[e._v("\n          通过\n        ")]),e._v(" "),t("el-button",{class:0==e.show?"el-button--primary":"",attrs:{size:"small"},on:{click:function(r){return e.handlePass(2)}}},[e._v("\n          不通过\n        ")])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[t("div",{staticClass:"passBtn"},[t("el-button",{class:4==e.nopass?"el-button--primary":"",attrs:{size:"small"},on:{click:function(r){return e.handleCheckFailure(4)}}},[e._v("\n            补全信息\n          ")]),e._v(" "),t("el-button",{class:3==e.nopass?"el-button--primary":"",attrs:{size:"small"},on:{click:function(r){return e.handleCheckFailure(3)}}},[e._v("\n            二次维修\n          ")]),e._v(" "),t("el-button",{class:1==e.nopass?"el-button--primary":"",attrs:{size:"small",disabled:e.disabled},on:{click:function(r){return e.handleCheckFailure(1)}}},[e._v("\n            重新派工\n          ")])],1),e._v(" "),t("div",{staticClass:"cm"},[e._v("\n          详细说明\n        ")]),e._v(" "),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.repairResult,callback:function(r){e.repairResult=r},expression:"repairResult"}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitnoPass}},[e._v("\n          提交\n        ")])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[t("el-form",{ref:"forms",attrs:{model:e.forms,"label-position":"left"}},[t("el-form-item",{attrs:{label:"维修结算","label-width":"100px",prop:"pay_type"}},[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.ChargeMode},model:{value:e.forms.pay_type,callback:function(r){e.$set(e.forms,"pay_type",r)},expression:"forms.pay_type"}},[t("el-option",{key:"1",attrs:{label:"无偿维修",value:"1"}}),e._v(" "),t("el-option",{key:"2",attrs:{label:"有偿结算",value:"2"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"维修费用/元","label-width":"100px",prop:"pay_money"}},[t("el-input",{attrs:{disabled:e.disable},model:{value:e.forms.pay_money,callback:function(r){e.$set(e.forms,"pay_money",r)},expression:"forms.pay_money"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"验收批注","label-width":"100px",prop:"pay_content"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入10字以上",resize:"none"},model:{value:e.forms.pay_content,callback:function(r){e.$set(e.forms,"pay_content",r)},expression:"forms.pay_content"}})],1)],1)],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.submitPass("forms")}}},[e._v("\n          提交\n        ")])],1)]),e._v(" "),t("el-dialog",{staticClass:"dialogBox",attrs:{title:"撤销",visible:e.dialogRevokeVisible},on:{"update:visible":function(r){e.dialogRevokeVisible=r}}},[t("el-form",{ref:"formrevoke",attrs:{model:e.formrevoke,"label-position":"left"}},[t("el-form-item",{attrs:{label:"撤销原因","label-width":"80px",prop:"repair_result"}},[t("el-select",{attrs:{placeholder:"请选择撤销原因"},model:{value:e.formrevoke.repair_result,callback:function(r){e.$set(e.formrevoke,"repair_result",r)},expression:"formrevoke.repair_result"}},[t("el-option",{key:"1",attrs:{label:"误报",value:"误报"}}),e._v(" "),t("el-option",{key:"2",attrs:{label:"其他原因",value:"其他原因"}})],1)],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"备注信息","label-width":"80px",prop:"repairResult"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入",resize:"none"},model:{value:e.formrevoke.repairResult,callback:function(r){e.$set(e.formrevoke,"repairResult",r)},expression:"formrevoke.repairResult"}})],1)],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitRevoke}},[e._v("\n          提交\n        ")])],1)],1)],1)])},staticRenderFns:[]}},670:function(e,r,t){t(1396);var a=t(38)(t(1165),t(1550),null,null);e.exports=a.exports},711:function(e,r,t){"use strict";t.d(r,"p",function(){return i}),t.d(r,"c",function(){return o}),t.d(r,"o",function(){return n}),t.d(r,"i",function(){return s}),t.d(r,"a",function(){return l}),t.d(r,"n",function(){return p}),t.d(r,"h",function(){return c}),t.d(r,"g",function(){return u}),t.d(r,"f",function(){return d}),t.d(r,"e",function(){return m}),t.d(r,"b",function(){return f}),t.d(r,"l",function(){return h}),t.d(r,"m",function(){return b}),t.d(r,"k",function(){return g}),t.d(r,"d",function(){return v}),t.d(r,"j",function(){return _});var a=t(32),i=function(e){return a.a.get("/api/project/loadSite",{params:{uid:e}})},o=function(e){return a.a.post("/api/project/addProject",e)},n=function(e){return a.a.post("/api/project/upProject",e)},s=function(e,r){return a.a.get("/api/project/delProject",{params:{pid:e,pwd:r}})},l=function(e,r){return a.a.get("/api/project/projectShow",{params:{page:e,num:r}})},p=function(e,r){return a.a.get("/api/project/queryProject",{params:{pid:e,uid:r}})},c=function(){return a.a.get("/api/project/getTagByUid")},u=function(e){return a.a.get("/api/project/getTag",{params:{pid:e}})},d=function(e,r){return a.a.get("/api/project/delete",{params:{pid:e,id:r}})},m=function(e,r){return a.a.get("/api/project/addTag",{params:{pid:e,tag:r}})},f=function(e){return a.a.get("/api/project/getDeviceTree",{params:{project:e}})},h=function(e,r){return a.a.get("/api/project/getDevice",{params:{project:e,user:r}})},b=function(e){return a.a.post("/api/project/updateDevOrPoint",e)},g=function(e,r){return a.a.get("/api/project/getUserbyPro",{params:{project:e,inp:r}})},v=function(e){return a.a.get("/api/project/Signout",{params:{project:e}})},_=function(e,r,t){return a.a.get("/api/project/assignMent",{params:{project:e,user:r,pwd:t}})}},724:function(e,r,t){e.exports={default:t(726),__esModule:!0}},725:function(e,r,t){"use strict";r.__esModule=!0;var a=t(724),i=function(e){return e&&e.__esModule?e:{default:e}}(a);r.default=function(e,r,t){return r in e?(0,i.default)(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}},726:function(e,r,t){t(728);var a=t(14).Object;e.exports=function(e,r,t){return a.defineProperty(e,r,t)}},728:function(e,r,t){var a=t(39);a(a.S+a.F*!t(61),"Object",{defineProperty:t(59).f})},731:function(e,r,t){"use strict";t.d(r,"c",function(){return i}),t.d(r,"d",function(){return o}),t.d(r,"g",function(){return n}),t.d(r,"h",function(){return s}),t.d(r,"x",function(){return l}),t.d(r,"y",function(){return p}),t.d(r,"z",function(){return c}),t.d(r,"v",function(){return u}),t.d(r,"w",function(){return d}),t.d(r,"k",function(){return m}),t.d(r,"m",function(){return f}),t.d(r,"n",function(){return h}),t.d(r,"o",function(){return b}),t.d(r,"p",function(){return g}),t.d(r,"t",function(){return v}),t.d(r,"u",function(){return _}),t.d(r,"e",function(){return w}),t.d(r,"A",function(){return x}),t.d(r,"B",function(){return y}),t.d(r,"C",function(){return R}),t.d(r,"D",function(){return k}),t.d(r,"E",function(){return S}),t.d(r,"q",function(){return N}),t.d(r,"G",function(){return C}),t.d(r,"H",function(){return I}),t.d(r,"i",function(){return D}),t.d(r,"j",function(){return j}),t.d(r,"l",function(){return z}),t.d(r,"s",function(){return T}),t.d(r,"I",function(){return F}),t.d(r,"J",function(){return $}),t.d(r,"F",function(){return O}),t.d(r,"r",function(){return B}),t.d(r,"a",function(){return P}),t.d(r,"b",function(){return V}),t.d(r,"f",function(){return A});var a=t(32),i=function(e){return a.a.get("/api/Maintenance_team/QueryRepair_user",{params:{mobile:e}})},o=function(e){return a.a.post("/api/Maintenance_team/AddRepair_user",e)},n=function(e,r){return a.a.get("/api/SystemMsg/Register_sms",{params:{username:e,phone:r}})},s=function(e){return a.a.post("/api/Maintenance_team/InvitationRepair_user",e)},l=function(e){return a.a.post("/api/Upload_File/Upload_Repairimg",e,{headers:{"Content-Type":"multipart/form-data"}})},p=function(e,r,t){return a.a.get("/api/DeviceInfo/getDeviceByMtid",{params:{name:e,mtid:r,project:t}})},c=function(e){return a.a.post("/api/Repair_order/AddRepair_order",e)},u=function(){return a.a.get("/api/Repair_Statistical_Analysis/GetRepair_Order_Statistics")},d=function(e,r){return a.a.get("/api/Repair_Statistical_Analysis/GetRepair_Cost_Statistics",{params:{starttime:e,endtime:r}})},m=function(e){return a.a.get("/api/Repair_order/Repair_Delete",{params:{ID:e}})},f=function(e){return a.a.post("/api/Repair_order/Repair_Acceptance",e)},h=function(e){return a.a.post("/api/Repair_order/Repair_Dispatching",e)},b=function(e){return a.a.post("/api/Repair_order/Repair_Dispatching_Acceptance",e)},g=function(e){return a.a.post("/api/Repair_order/RemoteRepair_process_details",e)},v=function(e){return a.a.get("/api/Repair_order/Repair_ScheduleWebNew",{params:{repair_orderno:e}})},_=function(e){return a.a.get("/api/Repair_order/Repair_ScheduleLogWebNew",{params:{repair_orderno:e}})},w=function(){return a.a.get("/api/Maintenance_team/Repair_userList")},x=function(e){return a.a.post("/api/Repair_order/AddRepair_sparepart",e)},y=function(e){return a.a.post("/api/Repair_order/AddRepair_tool",e)},R=function(e){return a.a.post("/api/Repair_order/UpdateRepair_spareparts",e)},k=function(e){return a.a.post("/api/Repair_order/UpdateRepair_tool",e)},S=function(e){return a.a.get("/api/Repair_order/DeleteRepair_spareparts",{params:{ID:e}})},N=function(e){return a.a.post("/api/Repair_order/Repair_Check",e)},C=function(e,r){return a.a.get("/api/Repair_order/GetRepair_ProjectDevice",{params:{modelid:e,projectid:r}})},I=function(e){return a.a.post("/api/Repair_order/QueryRepair_order",e)},D=function(e){return a.a.get("/api/Repair_Statistical_Analysis/GetRepair_Statistical_TimeList",{params:{time:e}})},j=function(e){return a.a.get("/api/Repair_Statistical_Analysis/GetRepair_Statistical_EvaluateList",{params:{time:e}})},z=function(e){return a.a.post("/api/Repair_order/Repair_Status",e)},T=function(e){return a.a.get("/api/Repair_order/QueryRepair_orderReport",{params:{Repair_Orderno:e}})},F=function(e){return a.a.get("/api/Repair_order/Repair_sparepartList",{params:{Repair_Orderno:e}})},$=function(e){return a.a.get("/api/Repair_order/Repair_toolList",{params:{Repair_Orderno:e}})},O=function(e){return a.a.get("/api/Repair_order/DeleteRepair_tool?ID="+e)},B=function(e){return a.a.post("/api/Repair_order/Repair_Evaluate",e)},P=function(e){return a.a.get("/api/Maintenance_team/DeleteRepair_user",{params:{id:e}})},V=function(e){return a.a.post("/api/Maintenance_team/UpdateRepair_user",e)},A=function(e){return a.a.get("/api/Maintenance_team/User_RepairList",{params:{id:e}})}}});